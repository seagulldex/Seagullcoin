<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SGLCN-X20 Minting Platform</title>
  <link rel="stylesheet" href="style.css">

  <!-- Correct XUMM SDK CDN -->
  <script src="https://xumm.app/assets/cdn/xumm.min.js"></script>
</head>
<body>

  <main>
    <section class="hero">
      <h1>Welcome to SeagullCoin NFT Marketplace</h1>
      <p>Mint, Buy, Sell, and Trade SeagullCoin-only NFTs.</p>
      <button id="connect-wallet-btn">Connect Wallet via XUMM</button>
      <div id="wallet-info" style="display:none;">Connected: <span id="wallet-address"></span></div>
    </section>
  </main>

  <script>
    window.onload = function () {
      if (typeof Xumm !== 'function') {
        alert("Failed to load XUMM SDK. Please check your connection or CDN path.");
        return;
      }

      const xumm = new Xumm('ee60e1a3-8c08-4cdd-bfa9-accada591684'); // REPLACE with your actual XUMM API Key

      document.getElementById("connect-wallet-btn").addEventListener("click", async () => {
        try {
          const session = await xumm.authorize();
          console.log("Authorized XUMM session:", session);

          const account = session.me.account;
          localStorage.setItem('xummWallet', account);
          document.getElementById('wallet-address').innerText = account;
          document.getElementById('wallet-info').style.display = 'block';
          document.getElementById('connect-wallet-btn').style.display = 'none';
        } catch (e) {
          console.error("XUMM connect error:", e);
          alert("Failed to connect wallet: " + e.message);
        }
      });
    };
  </script>
</body>
</html>
