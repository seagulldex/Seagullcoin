<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SGLCN-X20 Minting Platform</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://xumm.app/assets/cdn/xumm.min.js"></script>
</head>
<body>
  <div id="top-bar">
    <div id="menu-dropdown">
      <button id="menu-button">â˜°</button>
      <div id="menu-content">
        <a href="NFT.html">NFTs</a>
      </div>
    </div>
    <img src="seagullcoin-logo.png" alt="SeagullCoin" id="logo">
    <div id="wallet-container">
      <span id="wallet-status" class="red">ðŸ”´ Connect Wallet</span>
      <div id="wallet-info" style="display:none;">
        Connected: <span id="wallet-address"></span>
      </div>
    </div>
  </div>

  <main>
    <section class="hero">
      <h1>Welcome to SeagullCoin NFT Marketplace</h1>
      <p>Mint, Buy, Sell, and Trade SeagullCoin-only NFTs.</p>
    </section>
  </main>

  <script>
    const container = document.getElementById('wallet-container');
    const indicator = document.getElementById('wallet-status');

    container.onclick = async () => {
      try {
        const xumm = new Xumm('ee60e1a3-8c08-4cdd-bfa9-accada591684'); // Your XUMM API key
        const session = await xumm.authorize();

        console.log("Authorized XUMM session:", session);
        const account = session.me.account;

        localStorage.setItem('xumm_wallet_address', account);
        localStorage.setItem('xumm_user', JSON.stringify(session));

        document.getElementById('wallet-info').style.display = 'block';
        document.getElementById('wallet-address').innerText = account;

        indicator.textContent = 'ðŸŸ¢ Profile';
        indicator.classList.remove('red');
        indicator.classList.add('green');
        container.title = 'Go to profile';

        container.onclick = () => {
          window.location.href = `/profile.html?uuid=${session.jwt}`;
        };
      } catch (e) {
        console.error("XUMM connect error:", e);
        alert("Wallet connection failed.");
      }
    };
  </script>
</body>
</html>
