<form class="mint-form" id="mintForm">

  <!-- NFT Name -->
  <div class="form-field">
    <label for="nftName">NFT Name</label>
    <input type="text" id="nftName" placeholder="NFT Name" required />
  </div>

  <!-- Preview -->
  <div class="form-field preview-container">
    <label>Preview</label>
    <img id="nftPreview" alt="NFT Preview" style="display: none;" />
    <video id="nftVideoPreview" controls style="display: none;"></video>
  </div>

  <!-- Description -->
  <div class="form-field">
    <label for="nftDescription">Description</label>
    <textarea id="nftDescription" placeholder="Enter a detailed description..." required></textarea>
  </div>

  <!-- File Upload -->
  <div class="form-field">
    <label for="nftFile">Upload Image or Video</label>
    <input type="file" id="nftFile" accept="image/*,video/*" required />
  </div>

  <!-- Domain -->
  <div class="form-field">
    <label for="domain">Domain</label>
    <input type="text" id="domain" placeholder="https://yourdomain.com" />
  </div>

  <!-- Properties -->
  <div class="form-field">
    <label>Properties</label>
    <div id="propertiesContainer">
      <div class="property">
        <input type="text" placeholder="Property Name" class="property-name" />
        <input type="text" placeholder="Property Value" class="property-value" />
      </div>
    </div>
    <button type="button" id="addPropertyBtn">+ Add Property</button>
  </div>

  <!-- Collection Selection -->
  <div class="form-field">
    <label for="collection">Collection</label>
    <select id="collection">
      <option value="">-- Select or Create Collection --</option>
      <option value="new">+ Create New</option>
    </select>
  </div>

  <!-- Submit -->
  <button type="submit" class="mint-btn">Mint NFT</button>
</form>
<script>
const fileInput = document.getElementById('nftFile');
const imgPreview = document.getElementById('nftPreview');
const videoPreview = document.getElementById('nftVideoPreview');
const addPropertyBtn = document.getElementById('addPropertyBtn');
const propertiesContainer = document.getElementById('propertiesContainer');
const MAX_PROPERTIES = 10;

fileInput.addEventListener('change', function() {
  const file = fileInput.files[0];
  if (!file) return;

  const url = URL.createObjectURL(file);
  const isImage = file.type.startsWith('image');
  const isVideo = file.type.startsWith('video');

  imgPreview.style.display = isImage ? 'block' : 'none';
  videoPreview.style.display = isVideo ? 'block' : 'none';

  if (isImage) {
    imgPreview.src = url;
  } else if (isVideo) {
    videoPreview.src = url;
  }
});

addPropertyBtn.addEventListener('click', () => {
  const count = document.querySelectorAll('.property').length;
  if (count >= MAX_PROPERTIES) {
    alert('You can only add up to 10 properties.');
    return;
  }
  const div = document.createElement('div');
  div.classList.add('property');
  div.innerHTML = `
    <input type="text" placeholder="Property Name" class="property-name" />
    <input type="text" placeholder="Property Value" class="property-value" />
  `;
  propertiesContainer.appendChild(div);
});
</script>
